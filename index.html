<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alice's Playground</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #43373b;
  color: #f3e7d9;
  font-family: Helvetica, Arial, sans-serif;
  overflow-x: hidden;
}

/* ===== NAV ===== */
nav {
  position: fixed;
  top: 24px;
  left: 0;
  width: 100%;
  padding: 0 80px;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
  opacity: 0;
  pointer-events: none;
  transition: opacity .8s ease;
  z-index: 10;
}

nav.visible {
  opacity: 1;
  pointer-events: auto;
}

nav a {
  color: #f3e7d9;
  text-decoration: none;
  font-size: 12px;
  letter-spacing: 2px;
  opacity: 0.5;
  transition: opacity .3s ease;
}

nav a:hover {
  opacity: 1;
}



/* ===== LETTERE ===== */
.letter {
  position: absolute;
  font-size: 70px;
  letter-spacing: 5px;
  user-select: none;
  transition: all 1s ease;
  
}



/* ===== SUBTITLE ===== */
#subtitle {
  position: absolute;
  font-size: 18px;
  letter-spacing: 10px;
  opacity: 0;
  transition: opacity .8s ease;
  pointer-events: none;
}

#subtitle.visible {
  opacity: 1;
}

/* ===== INSTAGRAM ===== */
#instagram {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  letter-spacing: 2px;
  color: #f3e7d9;
  text-decoration: none;
  opacity: 0;
  pointer-events: none;
  transition: opacity .8s ease;
}

#instagram.visible {
  opacity: .5;
  pointer-events: auto;
}

#instagram:hover {
  opacity: 1;
}

</style>
</head>

<body>

<!-- NAV -->
<nav id="nav">
  <a href="https://alice-vi.github.io/homepage.videira/giorno2/es1/es2/index.html">About me</a>
  <a href="https://alice-vi.github.io/homepage.videira/giorno2/es1/index.html">Color</a>
  <a href="https://alice-vi.github.io/homepage.videira/giorno3/es1/index.html">Dragon</a>
  <a href="https://alice-vi.github.io/homepage.videira/giorno4/es1/index.html">A</a>
  <a href="https://alice-vi.github.io/homepage.videira/giorno4/es2/index.html">Toast game</a>
</nav>



  <div id="container"></div>
  <div id="subtitle">Alice Videira</div>

  <a
    id="instagram"
    href="https://www.instagram.com/_.alice.videira._/"
    target="_blank"
  >
    Instagram
  </a>
</section>


</section>

<script>
const title = "Playground";
const container = document.getElementById("container");
const subtitle = document.getElementById("subtitle");
const instagram = document.getElementById("instagram");
const nav = document.getElementById("nav");


const letters = [];
let grouped = false;
let timer = null;

/* lettere sparse */
title.split("").forEach(char => {
  const span = document.createElement("span");
  span.className = "letter";
  span.textContent = char;

  const x = Math.random() * (window.innerWidth - 60);
  const y = Math.random() * (window.innerHeight - 100);

  span.style.left = x + "px";
  span.style.top = y + "px";

  span.dataset.x = x;
  span.dataset.y = y;

  container.appendChild(span);
  letters.push(span);
});

function getRandomGroupPosition() {
  return {
    x: Math.random() * (window.innerWidth * 0.6) + window.innerWidth * 0.2,
    y: Math.random() * (window.innerHeight * 0.6) + window.innerHeight * 0.2
  };
}


function group() {
  clearTimeout(timer);

  const pos = getRandomGroupPosition();
  const cx = pos.x;
  const cy = pos.y;

  let total = letters.reduce((s, l) => s + l.offsetWidth, 0);
  let start = cx - total / 2;

  letters.forEach(l => {
    l.style.left = start + "px";
    l.style.top = cy + "px";
     l.classList.add("inactive");
    
    start += l.offsetWidth;
  });

  subtitle.style.left = cx + "px";
  subtitle.style.top = cy + 85 + "px";
  subtitle.style.transform = "translateX(-50%)";

  timer = setTimeout(() => {
    subtitle.classList.add("visible");
    instagram.classList.add("visible");
    nav.classList.add("visible");
  }, 1000);

  grouped = true;
}

function scatter() {
  clearTimeout(timer);

  subtitle.classList.remove("visible");
  instagram.classList.remove("visible");
  nav.classList.remove("visible");

  letters.forEach(l => {
    l.style.left = l.dataset.x + "px";
    l.style.top = l.dataset.y + "px";
   
  });

  grouped = false;
}

letters.forEach(l => {
  l.addEventListener("click", () => {
    grouped ? scatter() : group();
  });
});


</script>

</body>
</html>
